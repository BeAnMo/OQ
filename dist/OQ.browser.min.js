var ObjectQuery=function(){"use strict";function f(n){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function e(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function u(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function a(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(n){return Array.isArray(n)||"object"===f(n)&&null!==n}function s(n,t,r){for(var e=Object.keys(t),o=n,c=0;c<e.length;c++){var i=e[c];o=r(o,t[i],i)}return o}function y(n,i){var t,r=(t=n,Array.isArray(t)?Array:Object);return s(r===Array?[]:Object.create(null),n,function(n,t,r){return e=n,o=i(t,r),c=r,Array.isArray(e)?e.concat(o):Object.assign(Object.create(null),e,u({},c,o));var e,o,c})}function c(n){return function o(n,t,c){return s(t,n,function(n,t,r){var e="".concat(c,".").concat(r);return l(t)?o(t,n,e):Object.assign({},n,u({},e.slice(1),t))})}(n,{},"")}function i(n){var r=n.blank,u=n.all,e=n.obj,t=n.path,a=(n.atKey,function(n,t){return t[0]===r?null:t[0]===u?e:function(n,e){for(var t=e.length,o=n,r=function(t){var n=e[t];if(n===u)return{v:y(o,function(n){return a(n,e.slice(t+1))})};var r=o[n];if(!r)return{v:null};o=r},c=0;c<t;c++){var i=r(c);if("object"===f(i))return i.v}return o}(n,t)});return a(e,t)}return function(){function o(n,t){var e=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),u(this,"_doc",void 0),u(this,"_config",void 0),u(this,"at",function(n){return""===n?e._doc:new o(i({obj:e._doc,path:n.split(e._config.delimiter),blank:"",all:"*"}),e._config)}),u(this,"flatReduce",function(n,t){return new o(s(t,e._doc,n),e._config)}),u(this,"flatMap",function(n){return new o(y(e._doc,n),e._config)}),u(this,"count",function(n){return t=e._doc,o=n,function e(n,t){return s(t,n,function(n,t,r){return r===o?e(t,1+n):l(t)?e(t,n):n})}(t,0);var t,o}),u(this,"maxDepth",function(){return null}),u(this,"flatten",function(n){return new o(c(n?e.at(n).get():e._doc),e._config)}),u(this,"deepFindAll",function(n){return new o((i=e._config.delimiter,t=e._doc,u=n,function o(n,t,c){return s(t,n,function(n,t,r){var e="".concat(c).concat(i).concat(r);return u(t,r)?[].concat(a(n),[{value:t,key:r,path:e.slice(1)}]):l(t)?o(t,n,e):n})}(t,[],"")),e._config);var i,t,u}),u(this,"valuesOf",function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return new o(function(n){for(var t=arguments.length,r=new Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var o=r.reduce(function(n,t){return Object.assign({},n,u({},t,1))},Object.create(null));return function e(n,t){return s(t,n,function(n,t,r){return r in o?Object.assign({},n,u({},r,t)):l(t)?e(t,n):n})}(n,Object.create(null))}.apply(void 0,[e._doc].concat(t)),e._config)}),this._doc=n,this._config=t}var n,t,r;return n=o,(t=[{key:"get",value:function(){return this._doc}}])&&e(n.prototype,t),r&&e(n,r),o}()}();
